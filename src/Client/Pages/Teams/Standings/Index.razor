@page "/Teams/{team}/Standings"
@inject ApiClient Api

<ApiExecutor Operation="() => Api.Teams.Get(Team)" Context="team">
    <ApiExecutor Operation="() => Api.LootLists.GetForTeam(team.Id)" Context="lootLists" @ref="_executor">
        <CascadingValue Value="lootLists">
            <InstancesPresenter @bind-SelectedInstanceId="@_selectedInstanceId" OnRefresh="() => _executor?.RestartAsync() ?? Task.CompletedTask" />
        </CascadingValue>
    </ApiExecutor>
</ApiExecutor>

@code {
    [Parameter] public string Team { get; set; } = string.Empty;
    private string? _selectedInstanceId;
    private IApiExecutor? _executor;
}